# Assessing the Impact of Vision Zero on Traffic Collisions in Toronto Neighborhoods (2014–2021)

## Overview

This repository contains all code, data, and documentation for an analysis examining traffic collisions in Toronto neighborhoods between 2014 and 2021. The primary objective is to identify factors influencing collision frequencies and to evaluate the impact of the Vision Zero Road Safety Plan implemented in 2017. The final product is a research paper (`paper.pdf`) detailing the methodology, results, and insights drawn from the analysis.

## Repository Structure

.
├── data
│   ├── raw
│   │   ├── collisions.csv
│   │   └── neighbourhoods.geojson
│   └── processed
│       ├── collisions_clean.csv
│       └── neighbourhood_yearly_collisions.csv
├── paper
│   ├── paper.qmd
│   ├── references.bib
│   ├── paper.pdf
│   ├── header.tex
│   └── paper_files
│       └── figure-pdf (contains figures generated by paper.qmd)
├── results
│   ├── model_predictions
│   │   ├── all_neighbourhoods_predictions.csv
│   │   └── nb_model_predictions.csv
│   ├── model
│   │   └── nb_model.rds
│   └── plots
├── scripts
│   ├── clean_data.R
│   ├── download_data.R
│   ├── exploratory_data_analysis.R
│   ├── model_data.R
│   └── simulate_data.R
├── tests
│   ├── run_tests
│   ├── test_analysis_data.R
│   └── test_simulated_data.R
├── Other
│   └── llm_usage
│       └── usage.txt
├── .gitignore
└── README.md

### Key Directories and Files

- **data/raw/**: Contains original raw datasets (`collisions.csv`, `neighbourhoods.geojson`).
- **data/processed/**: Contains cleaned and aggregated datasets (`collisions_clean.csv`, `neighbourhood_yearly_collisions.csv`).
- **paper/**:
  - `paper.qmd`: Quarto file with the full analysis.
  - `paper.pdf`: Final rendered paper.
  - `references.bib`: Bibliography file.
  - `header.tex`: Custom LaTeX header for styling.
  - `paper_files/figure-pdf/`: Figures generated when rendering the paper.
- **results/**:
  - `model_predictions/`: Model prediction outputs (CSV files).
  - `model/`: Saved model objects (e.g., `nb_model.rds`).
  - `plots/`: Figures and other visual outputs.
- **scripts/**:
  - `download_data.R`: Downloads raw data into `data/raw/`.
  - `clean_data.R`: Cleans and prepares data for analysis.
  - `exploratory_data_analysis.R`: Performs EDA and generates exploratory plots saved in `results/plots/`.
  - `model_data.R`: Fits the Negative Binomial model and generates predictions in `results/model_predictions/`.
  - `simulate_data.R`: Generates simulated data for testing and exploration.
- **tests/**:
  - `test_analysis_data.R` and `test_simulated_data.R`: Validate data integrity and consistency.
- **Other/llm_usage/**:
  - `usage.txt`: Documents interactions with Large Language Models (LLMs).

## How to Reproduce the Analysis

###**Install Dependencies**:  
   Ensure you have R (≥4.0.5). Then install necessary packages:
   ```r
   install.packages(c("tidyverse","MASS","ggplot2","caret","broom","kableExtra","here","sf","lubridate"))
   ```

###**Run Scripts in Order:
	•	**scripts/download_data.R**: Downloads raw data into data/raw/.
	•	**scripts/clean_data.R**: Cleans raw data, producing data/processed/collisions_clean.csv.
	•	**scripts/exploratory_data_analysis.R**: Performs EDA and saves plots in results/plots/.
	•	**scripts/model_data.R**: Fits the Negative Binomial model, saves it as nb_model.rds, and generates predictions in results/model_predictions/.

###Render the Paper:
After running the above scripts, render the paper:

>>> quarto render paper/paper.qmd

The final paper.pdf will contain the complete analysis, results, and discussion.

##Statement on LLM Usage

**Large Language Models (LLMs), such as ChatGPT, were consulted for**:
	•	Assistance in drafting sections of the manuscript (e.g., abstract, introduction, discussion).
	•	Debugging and refining R code.
	•	Structuring the appendix related to data collection methodologies.

**All LLM interactions are documented in Other/llm_usage/usage.txt**.

##Acknowledgments
	•	Data Sources:
	•	Police Annual Statistical Report - Traffic Collisions
	•	Neighbourhoods
	•	Software:
Analysis conducted in R [@R-base], utilizing packages including MASS [@MASS], tidyverse [@tidyverse], caret [@caret], ggplot2 [@ggplot2], broom [@broom], kableExtra [@kableExtra], here [@here], and sf [@sf].

##License

This project is licensed under the MIT License.

Note: This README reflects the final repository structure, clarifies how to reproduce the analysis, documents LLM usage, and ensures no evidence remains that this is a class project. It aligns with best practices for transparency, reproducibility, and clarity.

